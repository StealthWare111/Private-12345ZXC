local v0=game:GetService("Players");local v1=game:GetService("RunService");local v2=game:GetService("UserInputService");local v3=game:GetService("TweenService");local v4=workspace;local v5=v0.LocalPlayer;local v6=v4.CurrentCamera;local v7=false;local v8=false;local v9=false;local v10=false;local v11=false;local v12=Color3.fromRGB(0,255,0);local v13=true;local v14=Enum.KeyCode.F;local v15=Vector3.new(4,5,4);local v16=1000;local v17=0.1;local v18={};local v19={};local v20={};local v21={};local v22={};local function v23(v115) if  not v115 then return;end local v116=Instance.new("BoxHandleAdornment");v116.Adornee=v115:FindFirstChild("HumanoidRootPart") or v115:FindFirstChild("Torso") or v115.PrimaryPart ;v116.AlwaysOnTop=true;v116.ZIndex=10;v116.Transparency=0.4;v116.Color3=v12;v116.Size=v15;v116.Parent=v115;return v116;end local function v24(v124,v125) if  not v124 then return;end local v126=Instance.new("BillboardGui");v126.Adornee=v124:FindFirstChild("Head") or v124:FindFirstChild("HumanoidRootPart") ;v126.Size=UDim2.new(0,100,0,30);v126.StudsOffset=Vector3.new(0,3,0);v126.AlwaysOnTop=true;v126.Parent=v124;local v132=Instance.new("TextLabel");v132.Size=UDim2.new(1,0,1,0);v132.BackgroundTransparency=1;v132.TextColor3=v12;v132.Font=Enum.Font.Gotham;v132.TextSize=14;v132.Text=v125.Name   .. ": 0 studs" ;v132.Parent=v126;return v126;end local function v25(v141) if  not v141 then return;end local v142=Instance.new("BillboardGui");v142.Adornee=v141:FindFirstChild("HumanoidRootPart") or v141:FindFirstChild("Torso") ;v142.Size=UDim2.new(0,80,0,10);v142.StudsOffset=Vector3.new(0,4,0);v142.AlwaysOnTop=true;v142.Parent=v141;local v148=Instance.new("Frame");v148.Size=UDim2.new(1,0,1,0);v148.BackgroundColor3=Color3.fromRGB(255,0,0);v148.Parent=v142;local v152=Instance.new("Frame");v152.Size=UDim2.new(1,0,1,0);v152.BackgroundColor3=Color3.fromRGB(0,255,0);v152.Parent=v148;local v156=Instance.new("UICorner");v156.CornerRadius=UDim.new(0,4);v156.Parent=v148;return v142;end local function v26() for v254,v255 in pairs(v18) do if (v254.Character and v255.Adornee) then if (v11 and (v254.Team==v5.Team)) then v255.Visible=false;else local v350=(v5.Character and v5.Character:FindFirstChild("HumanoidRootPart") and v254.Character:FindFirstChild("HumanoidRootPart") and (v5.Character.HumanoidRootPart.Position-v254.Character.HumanoidRootPart.Position).Magnitude) or math.huge ;v255.Visible=v350<=v16 ;v255.Color3=v12;v255.Adornee=v254.Character:FindFirstChild("HumanoidRootPart") or v254.Character:FindFirstChild("Torso") or v254.Character.PrimaryPart ;v255.Size=v15;end else v255:Destroy();v18[v254]=nil;end end end local function v27() for v256,v257 in pairs(v20) do if (v256.Character and v257.Adornee) then if (v11 and (v256.Team==v5.Team)) then v257.Enabled=false;else local v356=(v5.Character and v5.Character:FindFirstChild("HumanoidRootPart") and v256.Character:FindFirstChild("HumanoidRootPart") and (v5.Character.HumanoidRootPart.Position-v256.Character.HumanoidRootPart.Position).Magnitude) or math.huge ;v257.Enabled=v356<=v16 ;local v358=v257:FindFirstChildOfClass("TextLabel");if v358 then v358.TextColor3=v12;v358.Text=string.format("%s: %.1f studs",v256.Name,v356);end end else v257:Destroy();v20[v256]=nil;end end end local function v28() for v258,v259 in pairs(v21) do if (v258.Character and v259.Adornee) then local v306=v258.Character:FindFirstChildOfClass("Humanoid");if (v11 and (v258.Team==v5.Team)) then v259.Enabled=false;else local v360=(v5.Character and v5.Character:FindFirstChild("HumanoidRootPart") and v258.Character:FindFirstChild("HumanoidRootPart") and (v5.Character.HumanoidRootPart.Position-v258.Character.HumanoidRootPart.Position).Magnitude) or math.huge ;v259.Enabled=(v360<=v16) and v306 ;if v306 then local v378=v259:FindFirstChildOfClass("Frame");local v379=v378 and v378:FindFirstChildOfClass("Frame") ;if v379 then local v386=v306.Health/v306.MaxHealth ;v379.Size=UDim2.new(v386,0,1,0);end end end else v259:Destroy();v21[v258]=nil;end end end local function v29(v159) local v160=v159.Character;if  not v160 then return;end if v19[v159] then for v308,v309 in pairs(v19[v159].lines) do if (v309 and v309.Visible) then v309.Visible=false;v309:Remove();end end v19[v159]=nil;end local v161,v162=pcall(function() return Drawing;end);if ( not v161 or (typeof(v162.new)~="function")) then return;end local v163={};local function v164() local v260=v162.new("Line");v260.Color=v12;v260.Thickness=2;v260.Transparency=1;v260.Visible=true;return v260;end local v165={Head=v160:FindFirstChild("Head"),UpperTorso=v160:FindFirstChild("UpperTorso") or v160:FindFirstChild("Torso") ,LowerTorso=v160:FindFirstChild("LowerTorso") or v160:FindFirstChild("Torso") ,LeftUpperArm=v160:FindFirstChild("LeftUpperArm") or v160:FindFirstChild("Left Arm") ,LeftLowerArm=v160:FindFirstChild("LeftLowerArm") or v160:FindFirstChild("Left Forearm") ,RightUpperArm=v160:FindFirstChild("RightUpperArm") or v160:FindFirstChild("Right Arm") ,RightLowerArm=v160:FindFirstChild("RightLowerArm") or v160:FindFirstChild("Right Forearm") ,LeftUpperLeg=v160:FindFirstChild("LeftUpperLeg") or v160:FindFirstChild("Left Leg") ,LeftLowerLeg=v160:FindFirstChild("LeftLowerLeg") or v160:FindFirstChild("Left Leg") ,RightUpperLeg=v160:FindFirstChild("RightUpperLeg") or v160:FindFirstChild("Right Leg") ,RightLowerLeg=v160:FindFirstChild("RightLowerLeg") or v160:FindFirstChild("Right Leg") };local v166={{"Head","UpperTorso"},{"UpperTorso","LowerTorso"},{"UpperTorso","LeftUpperArm"},{"LeftUpperArm","LeftLowerArm"},{"UpperTorso","RightUpperArm"},{"RightUpperArm","RightLowerArm"},{"LowerTorso","LeftUpperLeg"},{"LeftUpperLeg","LeftLowerLeg"},{"LowerTorso","RightUpperLeg"},{"RightUpperLeg","RightLowerLeg"}};for v265,v266 in ipairs(v166) do local v267=v165[v266[1]];local v268=v165[v266[2]];if (v267 and v268) then table.insert(v163,v164());end end v19[v159]={lines=v163,parts=v165,connections=v166};end local function v30() local v168=v6;for v269,v270 in pairs(v19) do local v271=v270.lines;local v272=v270.parts;local v273=v270.connections;for v288,v289 in ipairs(v273) do local v290=v272[v289[1]];local v291=v272[v289[2]];local v292=v271[v288];if (v290 and v291 and v292) then local v342=(v5.Character and v5.Character:FindFirstChild("HumanoidRootPart") and v269.Character:FindFirstChild("HumanoidRootPart") and (v5.Character.HumanoidRootPart.Position-v269.Character.HumanoidRootPart.Position).Magnitude) or math.huge ;if ((v11 and (v269.Team==v5.Team)) or (v342>v16)) then v292.Visible=false;else local v370,v371=v168:WorldToViewportPoint(v290.Position),v168:WorldToViewportPoint(v291.Position);if ((v370.Z>0) and (v371.Z>0)) then v292.Visible=true;v292.From=Vector2.new(v370.X,v370.Y);v292.To=Vector2.new(v371.X,v371.Y);v292.Color=v12;else v292.Visible=false;end end end end end end local function v31(v169) if v19[v169] then for v310,v311 in pairs(v19[v169].lines) do if (v311 and v311.Visible) then v311.Visible=false;v311:Remove();end end v19[v169]=nil;end end local function v32() for v274 in pairs(v19) do v31(v274);end end local function v33(v170) if (v170==v5) then return;end local v171;v171=v170.CharacterAdded:Connect(function(v275) wait(1);if v7 then if v18[v170] then v18[v170]:Destroy();end v18[v170]=v23(v275);end if v8 then v29(v170);end if v9 then if v20[v170] then v20[v170]:Destroy();end v20[v170]=v24(v275,v170);end if v10 then if v21[v170] then v21[v170]:Destroy();end v21[v170]=v25(v275);end end);table.insert(v22,v171);if v170.Character then if v7 then if v18[v170] then v18[v170]:Destroy();end v18[v170]=v23(v170.Character);end if v8 then v29(v170);end if v9 then if v20[v170] then v20[v170]:Destroy();end v20[v170]=v24(v170.Character,v170);end if v10 then if v21[v170] then v21[v170]:Destroy();end v21[v170]=v25(v170.Character);end end end local function v34(v172) if v18[v172] then v18[v172]:Destroy();v18[v172]=nil;end if v20[v172] then v20[v172]:Destroy();v20[v172]=nil;end if v21[v172] then v21[v172]:Destroy();v21[v172]=nil;end v31(v172);end table.insert(v22,v0.PlayerAdded:Connect(v33));table.insert(v22,v0.PlayerRemoving:Connect(v34));local v35;v35=v1.RenderStepped:Connect(function() if v7 then v26();end if v8 then v30();end if v9 then v27();end if v10 then v28();end end);table.insert(v22,v35);local v36=Instance.new("ScreenGui");v36.Name="CustomESPMenu";v36.Parent=game.CoreGui;v36.ResetOnSpawn=false;local v41=Instance.new("Frame");v41.Size=UDim2.new(0,420,0,600);v41.Position=UDim2.new(0.5, -210,0.5, -300);v41.BackgroundColor3=Color3.fromRGB(22,22,22);v41.BackgroundTransparency=v17;v41.BorderSizePixel=0;v41.ClipsDescendants=true;v41.Parent=v36;local v49=Instance.new("UICorner");v49.CornerRadius=UDim.new(0,20);v49.Parent=v41;local v52=Instance.new("Frame");v52.Size=UDim2.new(1,0,0,48);v52.BackgroundColor3=Color3.fromRGB(15,15,15);v52.BackgroundTransparency=v17;v52.BorderSizePixel=0;v52.Parent=v41;local v58=Instance.new("TextLabel");v58.Size=UDim2.new(1, -60,1,0);v58.Position=UDim2.new(0,20,0,0);v58.BackgroundTransparency=1;v58.Font=Enum.Font.GothamBold;v58.TextSize=28;v58.TextColor3=Color3.fromRGB(230,230,230);v58.TextXAlignment=Enum.TextXAlignment.Left;v58.Text="Advanced ESP Menu";v58.Parent=v52;local v70=Instance.new("TextButton");v70.Size=UDim2.new(0,44,0,44);v70.Position=UDim2.new(1, -52,0,2);v70.BackgroundColor3=Color3.fromRGB(200,50,50);v70.Font=Enum.Font.GothamBold;v70.TextSize=26;v70.TextColor3=Color3.new(1,1,1);v70.Text="X";v70.AutoButtonColor=false;v70.Parent=v52;v70.MouseEnter:Connect(function() v70.BackgroundColor3=Color3.fromRGB(255,80,80);end);v70.MouseLeave:Connect(function() v70.BackgroundColor3=Color3.fromRGB(200,50,50);end);v70.MouseButton1Click:Connect(function() v13=false;local v175=v3:Create(v41,TweenInfo.new(0.3,Enum.EasingStyle.Sine,Enum.EasingDirection.Out),{Position=UDim2.new(0.5, -210,1.5,0)});v175:Play();v175.Completed:Wait();v36.Enabled=false;end);local v80,v81,v82,v83;v52.InputBegan:Connect(function(v177) if (v177.UserInputType==Enum.UserInputType.MouseButton1) then v80=true;v82=v177.Position;v83=v41.Position;v177.Changed:Connect(function() if (v177.UserInputState==Enum.UserInputState.End) then v80=false;end end);end end);v52.InputChanged:Connect(function(v178) if (v178.UserInputType==Enum.UserInputType.MouseMovement) then v81=v178;end end);table.insert(v22,v2.InputChanged:Connect(function(v179) if ((v179==v81) and v80) then local v299=v179.Position-v82 ;v41.Position=UDim2.new(v83.X.Scale,v83.X.Offset + v299.X ,v83.Y.Scale,v83.Y.Offset + v299.Y );end end));local v84=Instance.new("Frame");v84.Size=UDim2.new(1, -40,1, -72);v84.Position=UDim2.new(0,20,0,52);v84.BackgroundTransparency=1;v84.Parent=v41;local v89=Instance.new("UIListLayout");v89.Padding=UDim.new(0,18);v89.SortOrder=Enum.SortOrder.LayoutOrder;v89.Parent=v84;local function v94(v180,v181,v182) local v183=Instance.new("TextButton");v183.Size=UDim2.new(1,0,0,44);v183.BackgroundColor3=(v181 and Color3.fromRGB(0,170,0)) or Color3.fromRGB(60,60,60) ;v183.BackgroundTransparency=v17;v183.TextColor3=Color3.fromRGB(240,240,240);v183.Font=Enum.Font.Gotham;v183.TextSize=20;v183.Text=((v181 and "[ON]  ") or "[OFF] ")   .. v180 ;v183.AutoButtonColor=false;local v193=Instance.new("UICorner");v193.CornerRadius=UDim.new(0,12);v193.Parent=v183;v183.MouseEnter:Connect(function() v3:Create(v183,TweenInfo.new(0.2),{BackgroundColor3=(v181 and Color3.fromRGB(0,220,0)) or Color3.fromRGB(90,90,90) }):Play();end);v183.MouseLeave:Connect(function() v3:Create(v183,TweenInfo.new(0.2),{BackgroundColor3=(v181 and Color3.fromRGB(0,170,0)) or Color3.fromRGB(60,60,60) }):Play();end);local v196=v181;v183.MouseButton1Click:Connect(function() v196= not v196;v183.BackgroundColor3=(v196 and Color3.fromRGB(0,170,0)) or Color3.fromRGB(60,60,60) ;v183.Text=((v196 and "[ON]  ") or "[OFF] ")   .. v180 ;v182(v196);end);v183.Parent=v84;return v183;end local function v95(v198,v199,v200) local v201=Instance.new("Frame");v201.Size=UDim2.new(1,0,0,70);v201.BackgroundTransparency=1;local v204=Instance.new("TextLabel");v204.Size=UDim2.new(1,0,0,22);v204.BackgroundTransparency=1;v204.Font=Enum.Font.Gotham;v204.TextSize=17;v204.TextColor3=Color3.fromRGB(220,220,220);v204.TextXAlignment=Enum.TextXAlignment.Left;v204.Text=v198;v204.Parent=v201;local v215=Instance.new("TextBox");v215.Size=UDim2.new(1,0,0,36);v215.Position=UDim2.new(0,0,0,30);v215.BackgroundColor3=Color3.fromRGB(40,40,40);v215.BackgroundTransparency=v17;v215.TextColor3=Color3.fromRGB(230,230,230);v215.Font=Enum.Font.Gotham;v215.TextSize=18;v215.Text=v199;v215.ClearTextOnFocus=false;v215.PlaceholderText="Enter value...";v215.Parent=v201;local v227=Instance.new("UICorner");v227.CornerRadius=UDim.new(0,12);v227.Parent=v215;v215.FocusLost:Connect(function(v278) if v278 then v200(v215.Text);end end);v201.Parent=v84;return v201,v215;end local function v96() v7=false;v8=false;v9=false;v10=false;for v279,v280 in pairs(v18) do v280:Destroy();end v18={};for v281,v282 in pairs(v20) do v282:Destroy();end v20={};for v283,v284 in pairs(v21) do v284:Destroy();end v21={};v32();for v285,v286 in pairs(v22) do v286:Disconnect();end v22={};v36:Destroy();v19={};end local v97=v94("Enable ESP Boxes",false,function(v231) v7=v231;if  not v231 then for v315,v316 in pairs(v18) do v316:Destroy();end v18={};else for v317,v318 in pairs(v0:GetPlayers()) do if ((v318~=v5) and v318.Character) then v18[v318]=v23(v318.Character);end end end end);local v98=v94("Enable Skeleton ESP",false,function(v232) v8=v232;if  not v232 then v32();else for v319,v320 in pairs(v0:GetPlayers()) do if (v320~=v5) then v29(v320);end end end end);local v99=v94("Enable Distance Labels",false,function(v233) v9=v233;if  not v233 then for v321,v322 in pairs(v20) do v322:Destroy();end v20={};else for v323,v324 in pairs(v0:GetPlayers()) do if ((v324~=v5) and v324.Character) then v20[v324]=v24(v324.Character,v324);end end end end);local v100=v94("Enable Health Bars",false,function(v234) v10=v234;if  not v234 then for v325,v326 in pairs(v21) do v326:Destroy();end v21={};else for v327,v328 in pairs(v0:GetPlayers()) do if ((v328~=v5) and v328.Character) then v21[v328]=v25(v328.Character);end end end end);local v101=v94("Hide Teammates",false,function(v235) v11=v235;end);local v102=v94("Unload Script",false,function(v236) if v236 then v96();end end);local v103,v104=v95("ESP Color (R,G,B)","0,255,0",function(v237) local v238,v239,v240=string.match(v237,"(%d+)%s*,%s*(%d+)%s*,%s*(%d+)");v238=tonumber(v238);v239=tonumber(v239);v240=tonumber(v240);if (v238 and v239 and v240 and (v238>=0) and (v238<=255) and (v239>=0) and (v239<=255) and (v240>=0) and (v240<=255)) then v12=Color3.fromRGB(v238,v239,v240);for v329,v330 in pairs(v18) do v330.Color3=v12;end for v332,v333 in pairs(v19) do for v346,v347 in pairs(v333.lines) do v347.Color=v12;end end for v334,v335 in pairs(v20) do local v336=v335:FindFirstChildOfClass("TextLabel");if v336 then v336.TextColor3=v12;end end else warn("Invalid color input");end end);local v105,v106=v95("Box Size (X,Y,Z)","4,5,4",function(v241) local v242,v243,v244=string.match(v241,"(%d+%.?%d*)%s*,%s*(%d+%.?%d*)%s*,%s*(%d+%.?%d*)");v242=tonumber(v242);v243=tonumber(v243);v244=tonumber(v244);if (v242 and v243 and v244 and (v242>0) and (v243>0) and (v244>0)) then v15=Vector3.new(v242,v243,v244);for v337,v338 in pairs(v18) do v338.Size=v15;end else warn("Invalid box size input");end end);local v107,v108=v95("Max Render Distance (studs)","1000",function(v245) local v246=tonumber(v245);if (v246 and (v246>0)) then v16=v246;else warn("Invalid distance input");end end);local v109,v110=v95("UI Transparency (0-1)","0.1",function(v247) local v248=tonumber(v247);if (v248 and (v248>=0) and (v248<=1)) then v17=v248;v41.BackgroundTransparency=v17;v52.BackgroundTransparency=v17;for v340,v341 in pairs(v84:GetChildren()) do if v341:IsA("TextButton") then v341.BackgroundTransparency=v17;elseif v341:IsA("Frame") then local v380=v341:FindFirstChildOfClass("TextBox");if v380 then v380.BackgroundTransparency=v17;end end end else warn("Invalid transparency input");end end);local v111,v112=v95("Close Menu Key (e.g., F, P, M)","F",function(v249) v249=v249:upper();if Enum.KeyCode[v249] then v14=Enum.KeyCode[v249];else warn("Invalid key input");end end);local v113;v113=v2.InputBegan:Connect(function(v250,v251) if ( not v251 and (v250.UserInputType==Enum.UserInputType.Keyboard)) then if (v250.KeyCode==v14) then v13= not v13;if v13 then v36.Enabled=true;v41.Position=UDim2.new(0.5, -210,1.5,0);v3:Create(v41,TweenInfo.new(0.3,Enum.EasingStyle.Sine,Enum.EasingDirection.Out),{Position=UDim2.new(0.5, -210,0.5, -300)}):Play();else local v374=v3:Create(v41,TweenInfo.new(0.3,Enum.EasingStyle.Sine,Enum.EasingDirection.Out),{Position=UDim2.new(0.5, -210,1.5,0)});v374:Play();v374.Completed:Wait();v36.Enabled=false;end end end end);table.insert(v22,v113);v41.Position=UDim2.new(0.5, -210,1.5,0);v36.Enabled=true;v3:Create(v41,TweenInfo.new(0.3,Enum.EasingStyle.Sine,Enum.EasingDirection.Out),{Position=UDim2.new(0.5, -210,0.5, -300)}):Play();for v252,v253 in pairs(v0:GetPlayers()) do if (v253~=v5) then v33(v253);end end
